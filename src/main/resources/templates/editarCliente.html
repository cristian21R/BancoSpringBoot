<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="Layout/base  :: head('Editar Cliente')"></head>
<body>
 
    <div th:replace="Layout/base  :: menu"></div>

  
    <div class="container my-4">
        <h2>Editar Cliente</h2>
        <form th:action="@{/clientes/guardar}" th:object="${clienteEdit}" method="post" id="formCliente">
            <input type="hidden" th:field="*{id}"/> <!-- importante para actualizar -->

            <div class="mb-3">
                <label for="cedula" class="form-label">Cédula</label>
                <input type="text" th:field="*{cedula}" class="form-control" id="cedula">
            </div>
            <div class="mb-3">
                <label for="nombre" class="form-label">Nombre</label>
                <input type="text" th:field="*{nombre}" class="form-control" id="nombre">
            </div>
            <div class="mb-3">
                <label for="apellido" class="form-label">Apellido</label>
                <input type="text" th:field="*{apellido}" class="form-control" id="apellido">
            </div>
            <div class="mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" th:field="*{email}" class="form-control" id="email">
            </div>
            <div class="mb-3">
                <label for="direccion" class="form-label">Dirección</label>
                <input type="text" th:field="*{direccion}" class="form-control" id="direccion">
            </div>

            <button type="submit" class="btn btn-success">Actualizar</button>
            <a th:href="@{/clientes}" class="btn btn-secondary">Cancelar</a>
        </form>
    </div>


    <div th:replace="Layout/base  :: footer"></div>
</body>

<script>
$(document).ready(function() {
	  $.validator.addMethod("soloLetras", function(value, element) {
	        return this.optional(element) || /^[a-zA-ZÀ-ÿ\s]+$/.test(value);
	    }, "Solo se permiten letras");
    $("#formCliente").validate({
        rules: {
            cedula: {
                required: true,
                minlength: 10,
                maxlength: 13,
                digits: true
            },
            nombre: {
                required: true,
                minlength: 5,
                maxlength: 50,
                soloLetras: true
            },
            apellido: {
                required: true,
                minlength: 5,
                maxlength: 50,
                soloLetras: true
            },
            email: {
                required: true,
                minlength: 5,
                maxlength: 50,
                email: true  
            },
            direccion: {
                required: true,
                minlength: 5,
                maxlength: 50
            }
        },
        messages: {
            cedula: {
                required: "Campo requerido",
                minlength: "La cédula debe tener mínimo 10 dígitos",
                maxlength: "El RUC debe tener máximo 13 dígitos",
                digits: "Solo números son permitidos"
            },
            nombre: {
                required: "Campo requerido",
                minlength: "El nombre debe tener al menos 5 caracteres",
                maxlength: "Máximo 50 caracteres",
                soloLetras: "Solo puede contener letras"

            },
            apellido: {
                required: "Campo requerido",
                minlength: "El apellido debe tener al menos 5 caracteres",
                maxlength: "Máximo 50 caracteres",
                soloLetras: "Solo puede contener letras"

            },
            email: {
                required: "Campo requerido",
                minlength: "El email debe tener al menos 5 caracteres",
                maxlength: "Máximo 50 caracteres",
                email: "Ingrese un email válido"
            },
            direccion: {
                required: "Campo requerido",
                minlength: "La dirección debe tener al menos 5 caracteres",
                maxlength: "Máximo 50 caracteres"
            }
        },
        errorClass: "text-danger",
        errorElement: "small"
    });
});
</script>

</html>
